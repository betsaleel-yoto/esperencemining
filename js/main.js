// Language translations
const translations = {
    en: {
        home: "Home",
        services: {
            title: "Our Services",
            logistics: {
                title: "Logistics",
                description: "Comprehensive management and transportation of mining equipment"
            },
            manpower: {
                title: "Man Power",
                description: "Expert recruitment for underground mining operations"
            },
            fuel: {
                title: "Fuel Supply",
                description: "Premium 50 PPM diesel supply for mining operations"
            },
            partnerships: {
                title: "Mining Partnerships",
                description: "Strategic collaborations for mining finance and operations"
            }
        },
        about: {
            title: "About Espérence Mining",
            description: "A leader in the East African mining sector, Espérence Mining SARL operates in six major countries: DRC, Uganda, Burundi, Tanzania, Rwanda and Kenya.",
            expertise: "Our expertise ranges from mining logistics to specialized recruitment, fuel supply and strategic partnerships."
        },
        projects: "Projects",
        partners: "Partners",
        contact: {
            title: "Contact",
            name: "Name",
            email: "Email",
            message: "Message",
            submit: "Submit"
        },
        blog: {
            title: "Mining News",
            post1: {
                title: "Mining Operation Innovations",
                description: "Latest technological advances in the mining sector..."
            },
            readMore: "Read More"
        },
        careers: {
            title: "Join Our Team",
            position: "Senior Mining Engineer",
            description: "We are looking for an experienced engineer to oversee our operations...",
            apply: "Apply Now"
        },
        hero: {
            title: "From Earth to Prosperity: Elevating Mining Operations Worldwide",
            subtitle: "Leading mining contractor in East Africa, delivering excellence across six nations",
            cta: "Get Started"
        },
        projects: {
            title: "Our Projects",
            project1: {
                title: "DRC Mining Operations",
                description: "Major extraction project with cutting-edge equipment"
            },
            project2: {
                title: "Tanzania Logistics",
                description: "Transportation and management of mining equipment"
            }
        },
        partners: {
            title: "Our Partners and Clients",
            partner1: {
                title: "MineTech Solutions",
                description: "Leader in high-precision mining equipment",
                duration: "Partner since 2018",
                type: "Strategic Supplier"
            },
            partner2: {
                title: "Global Mining Corp",
                description: "International mining operations and extraction expertise",
                duration: "Partner since 2019",
                type: "Main Client"
            },
            partner3: {
                title: "African Logistics",
                description: "Specialized in mining equipment transportation",
                duration: "Partner since 2020",
                type: "Logistics Partner"
            },
            partner4: {
                title: "Mining Safety Pro",
                description: "Mining safety equipment and training",
                duration: "Partner since 2021",
                type: "Safety Solutions"
            },
            partner5: {
                title: "EcoMine Solutions",
                description: "Environmental mining solutions",
                duration: "Partner since 2020",
                type: "Environmental Partner"
            },
            partner6: {
                title: "Tech Mining Services",
                description: "Advanced mining technology solutions",
                duration: "Partner since 2019",
                type: "Technology Partner"
            },
            becomePartner: {
                title: "Become Our Partner",
                description: "Join our network of excellence in the mining industry",
                cta: "Contact Us"
            }
        },
        stats: {
            experience: 'Years Experience',
            countries: 'Countries',
            projects: 'Projects Completed',
            partners: 'Mining Partners'
        },
        intro: {
            text1: "A leader in the East African mining sector, Espérence Mining SARL operates in six major countries: DRC, Uganda, Burundi, Tanzania, Rwanda and Kenya.",
            text2: "Our expertise ranges from mining logistics to specialized recruitment, fuel supply and strategic partnerships."
        },
        nav: {
            home: "Home",
            services: "Our Services",
            about: "About",
            projects: "Projects",
            partners: "Partners",
            contact: "Contact",
            news: "News",
            careers: "Careers"
        },
        application: {
            title: "Join Our Team",
            subtitle: "Let's build the future of the mining industry in Africa together",
            formTitle: "Application Form",
            firstName: "First Name",
            lastName: "Last Name",
            email: "Email",
            phone: "Phone",
            position: "Desired Position",
            selectPosition: "Select a position",
            experience: "Years of Experience",
            selectExperience: "Select your experience",
            education: "Education",
            motivation: "Cover Letter",
            cv: "CV (PDF, DOC, DOCX)",
            noFile: "No file chosen",
            chooseFile: "Choose file",
            consent: "I agree that my data will be processed for my application",
            submit: "Submit Application"
        },
        footer: {
            contact: "Contact",
            email: "Email: info@esperencemining.com",
            phone: "Phone: +243 999 541 920",
            locations: "Locations",
            locations1: "DRC | Uganda | Burundi",
            locations2: "Tanzania | Rwanda | Kenya",
            copyright: " 2024 Espérence Mining SARL. All rights reserved."
        }
    },
    fr: {
        home: "Accueil",
        services: {
            title: "Nos Services",
            logistics: {
                title: "Logistique",
                description: "Gestion complète et transport des équipements miniers"
            },
            manpower: {
                title: "Main d'œuvre",
                description: "Recrutement d'experts pour les opérations minières souterraines"
            },
            fuel: {
                title: "Fourniture de Carburant",
                description: "Fourniture de diesel premium 50 PPM pour les opérations minières"
            },
            partnerships: {
                title: "Partenariats Miniers",
                description: "Collaborations stratégiques pour le financement et les opérations minières"
            }
        },
        about: {
            title: "À Propos d'Espérence Mining",
            description: "Leader dans le secteur minier en Afrique de l'Est, Espérence Mining SARL opère dans six pays majeurs : RDC, Ouganda, Burundi, Tanzanie, Rwanda et Kenya.",
            expertise: "Notre expertise s'étend de la logistique minière au recrutement spécialisé, en passant par l'approvisionnement en carburant et les partenariats stratégiques."
        },
        projects: "Réalisations",
        partners: "Partenaires",
        contact: {
            title: "Contact",
            name: "Nom",
            email: "Email",
            message: "Message",
            submit: "Envoyer"
        },
        blog: {
            title: "Actualités Minières",
            post1: {
                title: "Innovations dans l'Exploitation Minière",
                description: "Les dernières avancées technologiques dans le secteur minier..."
            },
            readMore: "Lire la suite"
        },
        careers: {
            title: "Rejoignez Notre Équipe",
            position: "Ingénieur Minier Senior",
            description: "Nous recherchons un ingénieur expérimenté pour superviser nos opérations...",
            apply: "Postuler"
        },
        hero: {
            title: "De la Terre à la Prospérité : Élever les Opérations Minières Mondiales",
            subtitle: "Leader des entrepreneurs miniers en Afrique de l'Est, offrant l'excellence dans six pays",
            cta: "Commencer"
        },
        projects: {
            title: "Nos Réalisations",
            project1: {
                title: "Exploitation Minière RDC",
                description: "Projet majeur d'extraction avec équipement de pointe"
            },
            project2: {
                title: "Logistique Tanzanie",
                description: "Transport et gestion d'équipements miniers"
            }
        },
        partners: {
            title: "Nos Partenaires et Clients",
            partner1: {
                title: "MineTech Solutions",
                description: "Leader en équipements miniers de haute précision",
                duration: "Partenaire depuis 2018",
                type: "Fournisseur Stratégique"
            },
            partner2: {
                title: "Global Mining Corp",
                description: "Expertise en exploitation minière internationale",
                duration: "Partenaire depuis 2019",
                type: "Client Principal"
            },
            partner3: {
                title: "African Logistics",
                description: "Spécialisé dans le transport d'équipements miniers",
                duration: "Partenaire depuis 2020",
                type: "Partenaire Logistique"
            },
            partner4: {
                title: "Mining Safety Pro",
                description: "Équipements et formation en sécurité minière",
                duration: "Partenaire depuis 2021",
                type: "Solutions de Sécurité"
            },
            partner5: {
                title: "EcoMine Solutions",
                description: "Solutions minières environnementales",
                duration: "Partenaire depuis 2020",
                type: "Partenaire Environnemental"
            },
            partner6: {
                title: "Tech Mining Services",
                description: "Solutions technologiques minières avancées",
                duration: "Partenaire depuis 2019",
                type: "Partenaire Technologique"
            },
            becomePartner: {
                title: "Devenez Notre Partenaire",
                description: "Rejoignez notre réseau d'excellence dans l'industrie minière",
                cta: "Contactez-nous"
            }
        },
        stats: {
            experience: 'Années d\'Expérience',
            countries: 'Pays',
            projects: 'Projets Réalisés',
            partners: 'Partenaires Miniers'
        },
        intro: {
            text1: "Leader dans le secteur minier en Afrique de l'Est, Espérence Mining SARL opère dans six pays majeurs : RDC, Ouganda, Burundi, Tanzanie, Rwanda et Kenya.",
            text2: "Notre expertise s'étend de la logistique minière au recrutement spécialisé, en passant par l'approvisionnement en carburant et les partenariats stratégiques."
        },
        nav: {
            home: "Accueil",
            services: "Nos Services",
            about: "À Propos",
            projects: "Réalisations",
            partners: "Partenaires",
            contact: "Contact",
            news: "Actualités",
            careers: "Recrutement"
        },
        application: {
            title: "Rejoignez Notre Équipe",
            subtitle: "Construisons ensemble l'avenir de l'industrie minière en Afrique",
            formTitle: "Formulaire de Candidature",
            firstName: "Prénom",
            lastName: "Nom",
            email: "Email",
            phone: "Téléphone",
            position: "Poste Souhaité",
            selectPosition: "Sélectionnez un poste",
            experience: "Années d'Expérience",
            selectExperience: "Sélectionnez votre expérience",
            education: "Formation",
            motivation: "Lettre de Motivation",
            cv: "CV (PDF, DOC, DOCX)",
            noFile: "Aucun fichier choisi",
            chooseFile: "Choisir un fichier",
            consent: "J'accepte que mes données soient traitées pour ma candidature",
            submit: "Envoyer ma Candidature"
        },
        footer: {
            contact: "Contact",
            email: "Email: info@esperencemining.com",
            phone: "Phone: +243 999 541 920",
            locations: "Locations",
            locations1: "DRC | Uganda | Burundi",
            locations2: "Tanzania | Rwanda | Kenya",
            copyright: " 2024 Espérence Mining SARL. Tous droits réservés."
        }
    },
    ar: {
        home: "الرئيسية",
        services: {
            title: "خدماتنا",
            logistics: {
                title: "الخدمات اللوجستية",
                description: "إدارة شاملة ونقل معدات التعدين"
            },
            manpower: {
                title: "القوى العاملة",
                description: "توظيف خبراء لعمليات التعدين تحت الأرض"
            },
            fuel: {
                title: "إمدادات الوقود",
                description: "توريد ديزل متميز 50 جزء في المليون لعمليات التعدين"
            },
            partnerships: {
                title: "شراكات التعدين",
                description: "تعاون استراتيجي للتمويل وعمليات التعدين"
            }
        },
        about: {
            title: "عن إسبيرانس للتعدين",
            description: "كشركة رائدة في قطاع التعدين في شرق إفريقيا، تعمل شركة إسبيرانس للتعدين في ستة بلدان رئيسية: جمهورية الكونغو الديمقراطية، أوغندا، بوروندي، تنزانيا، رواندا وكينيا.",
            expertise: "تمتد خبرتنا من الخدمات اللوجستية للتعدين إلى التوظيف المتخصص، وتوريد الوقود والشراكات الاستراتيجية."
        },
        projects: "المشاريع",
        partners: "الشركاء",
        contact: {
            title: "اتصل بنا",
            name: "الاسم",
            email: "البريد الإلكتروني",
            message: "الرسالة",
            submit: "إرسال"
        },
        blog: {
            title: "أخبار التعدين",
            post1: {
                title: "ابتكارات في عمليات التعدين",
                description: "أحدث التطورات التكنولوجية في قطاع التعدين..."
            },
            readMore: "اقرأ المزيد"
        },
        careers: {
            title: "انضم إلى فريقنا",
            position: "مهندس تعدين أول",
            description: "نبحث عن مهندس ذو خبرة للإشراف على عملياتنا...",
            apply: "تقدم الآن"
        },
        hero: {
            title: "من الأرض إلى الرخاء: تعزيز عمليات التعدين العالمية",
            subtitle: "شركة التعدين الرائدة في شرق إفريقيا، تقدم التميز في ست دول",
            cta: "ابدا"
        },
        about: {
            title: "من نحن",
            text1: "شركة التعدين الرائدة في شرق إفريقيا، تعمل في ستة بلدان رئيسية: جمهورية الكونغو الديمقراطية، أوغندا، بوروندي، تنزانيا، رواندا وكينيا.",
            text2: "تتمثل خبرتنا في خدمات النقل والاستشارات الفنية والشراكات الاستراتيجية."
        },
        projects: {
            title: "مشاريعنا",
            project1: {
                title: "مشروع التعدين في جمهورية الكونغو الديمقراطية",
                description: "مشروع استخراج رئيسي مع معدات متقدمة"
            },
            project2: {
                title: "خدمات النقل في تنزانيا",
                description: "نقل وإدارة معدات التعدين"
            }
        },
        partners: {
            title: "شركاؤنا وعملاؤنا",
            partner1: {
                title: "MineTech Solutions",
                description: "رائد في معدات التعدين عالية الدقة",
                duration: "شريك منذ 2018",
                type: "مورد استراتيجي"
            },
            partner2: {
                title: "Global Mining Corp",
                description: "خبرة في عمليات التعدين الدولية",
                duration: "شريك منذ 2019",
                type: "عميل رئيسي"
            },
            partner3: {
                title: "African Logistics",
                description: "متخصص في نقل معدات التعدين",
                duration: "شريك منذ 2020",
                type: "شريك لوجستي"
            },
            partner4: {
                title: "Mining Safety Pro",
                description: "معدات وتدريب السلامة في التعدين",
                duration: "شريك منذ 2021",
                type: "حلول السلامة"
            },
            partner5: {
                title: "EcoMine Solutions",
                description: "حلول التعدين البيئية",
                duration: "شريك منذ 2020",
                type: "شريك بيئي"
            },
            partner6: {
                title: "Tech Mining Services",
                description: "حلول تكنولوجيا التعدين المتقدمة",
                duration: "شريك منذ 2019",
                type: "شريك تكنولوجي"
            },
            becomePartner: {
                title: "كن شريكنا",
                description: "انضم إلى شبكة التميز لدينا في صناعة التعدين",
                cta: "اتصل بنا"
            }
        },
        blog: {
            title: "أخبار التعدين",
            readMore: "اقرأ المزيد"
        },
        careers: {
            title: "انضم إلى فريقنا",
            position: "مهندس تعدين أول",
            description: "نبحث عن مهندس ذو خبرة للإشراف على عملياتنا...",
            apply: "تقدم الآن"
        },
        stats: {
            experience: 'سنوات الخبرة',
            countries: 'دول',
            projects: 'مشاريع منجزة',
            partners: 'شركاء التعدين'
        },
        intro: {
            text1: "كشركة رائدة في قطاع التعدين في شرق إفريقيا، تعمل شركة إسبيرانس للتعدين في ستة بلدان رئيسية: جمهورية الكونغو الديمقراطية، أوغندا، بوروندي، تنزانيا، رواندا وكينيا.",
            text2: "تمتد خبرتنا من الخدمات اللوجستية للتعدين إلى التوظيف المتخصص، وتوريد الوقود والشراكات الاستراتيجية."
        },
        nav: {
            home: "الرئيسية",
            services: "خدماتنا",
            about: "من نحن",
            projects: "المشاريع",
            partners: "الشركاء",
            contact: "اتصل بنا",
            news: "الأخبار",
            careers: "التوظيف"
        },
        application: {
            title: "انضم إلى فريقنا",
            subtitle: "لنبني معاً مستقبل صناعة التعدين في أفريقيا",
            formTitle: "نموذج التقديم",
            firstName: "الاسم الأول",
            lastName: "اسم العائلة",
            email: "البريد الإلكتروني",
            phone: "الهاتف",
            position: "المنصب المطلوب",
            selectPosition: "اختر منصباً",
            experience: "سنوات الخبرة",
            selectExperience: "اختر خبرتك",
            education: "التعليم",
            motivation: "خطاب التغطية",
            cv: "السيرة الذاتية (PDF, DOC, DOCX)",
            noFile: "لم يتم اختيار ملف",
            chooseFile: "اختر ملفاً",
            consent: "أوافق على معالجة بياناتي لطلب التوظيف",
            submit: "إرسال الطلب"
        },
        footer: {
            contact: "اتصل بنا",
            email: "البريد الإلكتروني: info@esperencemining.com",
            phone: "الهاتف: +243 999 541 920",
            locations: "المواقع",
            locations1: "جمهورية الكونغو | أوغندا | بوروندي",
            locations2: "تنزانيا | رواندا | كينيا",
            copyright: " 2024 إسبيرانس للتعدين. جميع الحقوق محفوظة."
        }
    },
    zh: {
        home: "首页",
        services: {
            title: "我们的服务",
            logistics: {
                title: "物流",
                description: "采矿设备的综合管理和运输"
            },
            manpower: {
                title: "人力资源",
                description: "地下采矿作业专家招聘"
            },
            fuel: {
                title: "燃料供应",
                description: "采矿作业优质50 PPM柴油供应"
            },
            partnerships: {
                title: "矿业合作",
                description: "矿业融资和运营的战略合作"
            }
        },
        about: {
            title: "关于Espérence Mining",
            description: "作为东非采矿业的领导者，Espérence Mining SARL在六个主要国家开展业务：刚果民主共和国、乌干达、布隆迪、坦桑尼亚、卢旺达和肯尼亚。",
            expertise: "我们的专业知识涵盖采矿物流、专业招聘、燃料供应和战略合作伙伴关系。"
        },
        projects: "项目",
        partners: "合作伙伴",
        contact: {
            title: "联系我们",
            name: "姓名",
            email: "电子邮件",
            message: "留言",
            submit: "发送"
        },
        blog: {
            title: "矿业新闻",
            post1: {
                title: "采矿作业创新",
                description: "矿业领域的最新技术进展..."
            },
            readMore: "阅读更多"
        },
        careers: {
            title: "加入我们的团队",
            position: "高级矿业工程师",
            description: "我们正在寻找一位经验丰富的工程师来监督我们的运营...",
            apply: "申请"
        },
        hero: {
            title: "从地球到繁荣：提升全球矿业运营",
            subtitle: "东非领先的矿业公司，在六个国家提供卓越服务",
            cta: "开始"
        },
        about: {
            title: "关于我们",
            text1: "东非领先的矿业公司，我们在六个主要国家运营：刚果民主共和国、乌干达、布隆迪、坦桑尼亚、卢旺达和肯尼亚。",
            text2: "我们的专业知识涵盖矿业物流、专业招聘、燃料供应和战略合作伙伴关系等方面。"
        },
        projects: {
            title: "我们的项目",
            project1: {
                title: "刚果民主共和国矿业项目",
                description: "主要的开采项目，配备先进设备"
            },
            project2: {
                title: "坦桑尼亚物流服务",
                description: "矿业设备的运输和管理"
            }
        },
        partners: {
            title: "我们的合作伙伴和客户",
            partner1: {
                title: "MineTech Solutions",
                description: "高精度采矿设备的领导者",
                duration: "自2018年起的合作伙伴",
                type: "战略供应商"
            },
            partner2: {
                title: "Global Mining Corp",
                description: "国际采矿业务和专业知识",
                duration: "自2019年起的合作伙伴",
                type: "主要客户"
            },
            partner3: {
                title: "African Logistics",
                description: "专业的采矿设备运输",
                duration: "自2020年起的合作伙伴",
                type: "物流合作伙伴"
            },
            partner4: {
                title: "Mining Safety Pro",
                description: "采矿安全设备和培训",
                duration: "自2021年起的合作伙伴",
                type: "安全解决方案"
            },
            partner5: {
                title: "EcoMine Solutions",
                description: "环保采矿解决方案",
                duration: "自2020年起的合作伙伴",
                type: "环保合作伙伴"
            },
            partner6: {
                title: "Tech Mining Services",
                description: "先进采矿技术解决方案",
                duration: "自2019年起的合作伙伴",
                type: "技术合作伙伴"
            },
            becomePartner: {
                title: "成为我们的合作伙伴",
                description: "加入我们的矿业卓越网络",
                cta: "联系我们"
            }
        },
        blog: {
            title: "矿业新闻",
            readMore: "阅读更多"
        },
        careers: {
            title: "加入我们的团队",
            position: "高级矿业工程师",
            description: "我们正在寻找一位经验丰富的工程师来监督我们的运营...",
            apply: "申请"
        },
        stats: {
            experience: '年经验',
            countries: '个国家',
            projects: '个完成项目',
            partners: '个矿业合作伙伴'
        },
        intro: {
            text1: "作为东非采矿业的领导者，Espérence Mining SARL在六个主要国家开展业务：刚果民主共和国、乌干达、布隆迪、坦桑尼亚、卢旺达和肯尼亚。",
            text2: "我们的专业知识涵盖采矿物流、专业招聘、燃料供应和战略合作伙伴关系。"
        },
        nav: {
            home: "首页",
            services: "服务",
            about: "关于我们",
            projects: "项目",
            partners: "合作伙伴",
            contact: "联系我们",
            news: "新闻",
            careers: "招聘"
        },
        application: {
            title: "加入我们的团队",
            subtitle: "让我们共同建设非洲采矿业的未来",
            formTitle: "申请表",
            firstName: "名字",
            lastName: "姓氏",
            email: "电子邮件",
            phone: "电话",
            position: "期望职位",
            selectPosition: "选择职位",
            experience: "工作经验",
            selectExperience: "选择工作经验",
            education: "教育背景",
            motivation: "求职信",
            cv: "简历 (PDF, DOC, DOCX)",
            noFile: "未选择文件",
            chooseFile: "选择文件",
            consent: "我同意处理我的申请数据",
            submit: "提交申请"
        },
        footer: {
            contact: "联系方式",
            email: "电子邮件: info@esperencemining.com",
            phone: "电话: +243 999 541 920",
            locations: "地点",
            locations1: "刚果民主共和国 | 乌干达 | 布隆迪",
            locations2: "坦桑尼亚 | 卢旺达 | 肯尼亚",
            copyright: " 2024 Espérence Mining SARL. 保留所有权利。"
        }
    }
};

let currentLang = 'fr';

// Initialisation au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    // Mise à jour initiale du contenu
    updateContent();

    // Gestion du menu mobile
    const menuIcon = document.querySelector('.menu-icon');
    const closeIcon = document.querySelector('.close-icon');
    const navLinks = document.querySelector('.nav-links');

    if (menuIcon) {
        menuIcon.addEventListener('click', () => {
            navLinks.classList.add('active');
        });
    }

    if (closeIcon) {
        closeIcon.addEventListener('click', () => {
            navLinks.classList.remove('active');
        });
    }

    // Fermeture du menu lors du clic sur un lien
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
            navLinks.classList.remove('active');
        });
    });

    // Défilement fluide pour les liens de navigation
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        });
    });

    // Gestion du formulaire de contact
    const contactForm = document.getElementById('contact-form');
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            alert(currentLang === 'en' ? 'Thank you for your message. We will contact you soon!' : 'Merci pour votre message. Nous vous contacterons bientôt !');
        });
    }

    // Animation des sections au scroll
    const sections = document.querySelectorAll('.section-animate');
    const sectionObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, {
        threshold: 0.1
    });

    sections.forEach(section => {
        sectionObserver.observe(section);
    });

    // Fonction pour animer les compteurs
    function animateCounter(element, start, end, duration, suffix = '') {
        let startTimestamp = null;
        const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            const current = Math.floor(progress * (end - start) + start);
            element.textContent = current + suffix;
            if (progress < 1) {
                window.requestAnimationFrame(step);
            }
        };
        window.requestAnimationFrame(step);
    }

    // Observer pour démarrer l'animation quand la section est visible
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counters = entry.target.querySelectorAll('.counter-number');
                counters.forEach(counter => {
                    const target = parseInt(counter.getAttribute('data-target'));
                    const suffix = counter.getAttribute('data-suffix') || '';
                    animateCounter(counter, 0, target, 2000, suffix);
                });
                statsObserver.unobserve(entry.target);
            }
        });
    }, {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
    });

    // Initialiser l'observer au chargement de la page
    const statsSection = document.querySelector('.stats-section');
    if (statsSection) {
        statsObserver.observe(statsSection);
    }
});

// Fonction pour changer de langue
function switchLanguage(lang) {
    if (translations[lang]) {
        currentLang = lang;
        updateContent();
        
        // Mise à jour du bouton de langue
        const langButtons = document.querySelectorAll('.lang-btn');
        langButtons.forEach(btn => {
            btn.classList.toggle('active', btn.getAttribute('data-lang') === currentLang);
        });
    }
}

// Fonction pour mettre à jour les éléments traduits
function updateContent() {
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = getTranslation(key);
        
        if (translation) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
        }
    });

    // Mise à jour des partenaires
    const partnerSection = document.querySelector('#partners');
    if (partnerSection) {
        const partnerCards = partnerSection.querySelectorAll('.partner-card');
        partnerCards.forEach((card, index) => {
            const partnerNum = index + 1;
            const partnerKey = `partners.partner${partnerNum}`;
            
            const title = card.querySelector('h3');
            const desc = card.querySelector('p');
            const duration = card.querySelector('.partnership-duration');
            const type = card.querySelector('.partnership-type');
            
            if (title) title.textContent = getTranslation(`${partnerKey}.title`);
            if (desc) desc.textContent = getTranslation(`${partnerKey}.description`);
            if (duration) duration.textContent = getTranslation(`${partnerKey}.duration`);
            if (type) type.textContent = getTranslation(`${partnerKey}.type`);
        });

        // Mise à jour de la section "Devenir partenaire"
        const becomePartner = partnerSection.querySelector('.partnership-cta');
        if (becomePartner) {
            const title = becomePartner.querySelector('h3');
            const desc = becomePartner.querySelector('p');
            const cta = becomePartner.querySelector('button');
            
            if (title) title.textContent = getTranslation('partners.becomePartner.title');
            if (desc) desc.textContent = getTranslation('partners.becomePartner.description');
            if (cta) cta.textContent = getTranslation('partners.becomePartner.cta');
        }
    }

    // Mise à jour des services
    const servicesSection = document.querySelector('#services');
    if (servicesSection) {
        const services = servicesSection.querySelectorAll('.service-item');
        const serviceKeys = ['logistics', 'manpower', 'fuel', 'partnerships'];
        
        services.forEach((service, index) => {
            const key = serviceKeys[index];
            const title = service.querySelector('h3');
            const desc = service.querySelector('p');
            
            if (title) title.textContent = getTranslation(`services.${key}.title`);
            if (desc) desc.textContent = getTranslation(`services.${key}.description`);
        });
    }

    // Mise à jour des statistiques
    const statsSection = document.querySelector('.stats-section');
    if (statsSection) {
        const stats = statsSection.querySelectorAll('.stat-item');
        const statKeys = ['experience', 'countries', 'projects', 'partners'];
        
        stats.forEach((stat, index) => {
            const key = statKeys[index];
            const label = stat.querySelector('.stat-label');
            if (label) {
                label.textContent = getTranslation(`stats.${key}`);
            }
        });
    }

    // Mise à jour de la section d'introduction
    const aboutSection = document.querySelector('#about');
    if (aboutSection) {
        const title = aboutSection.querySelector('[data-translate="about.title"]');
        const description = aboutSection.querySelector('[data-translate="about.description"]');
        const expertise = aboutSection.querySelector('[data-translate="about.expertise"]');
        
        if (title) title.textContent = getTranslation('about.title');
        if (description) description.textContent = getTranslation('about.description');
        if (expertise) expertise.textContent = getTranslation('about.expertise');
    }

    // Mise à jour de la section blog
    const blogSection = document.querySelector('#blog');
    if (blogSection) {
        const title = blogSection.querySelector('h2');
        const postTitle = blogSection.querySelector('h3');
        const postDesc = blogSection.querySelector('p');
        const readMore = blogSection.querySelector('.read-more');
        
        if (title) title.textContent = getTranslation('blog.title');
        if (postTitle) postTitle.textContent = getTranslation('blog.post1.title');
        if (postDesc) postDesc.textContent = getTranslation('blog.post1.description');
        if (readMore) readMore.textContent = getTranslation('blog.readMore');
    }

    // Mise à jour de la section carrières
    const careersSection = document.querySelector('#careers');
    if (careersSection) {
        const title = careersSection.querySelector('h2');
        const position = careersSection.querySelector('.job-card h3');
        const description = careersSection.querySelector('.job-card p');
        const applyBtn = careersSection.querySelector('.apply-btn');
        
        if (title) title.textContent = getTranslation('careers.title');
        if (position) position.textContent = getTranslation('careers.position');
        if (description) description.textContent = getTranslation('careers.description');
        if (applyBtn) applyBtn.textContent = getTranslation('careers.apply');
    }

    // Mise à jour du formulaire de candidature
    const applicationSection = document.querySelector('.application-section');
    if (applicationSection) {
        const elements = applicationSection.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            const translation = getTranslation(key);
            if (translation) {
                if (element.tagName === 'INPUT' && element.type === 'placeholder') {
                    element.placeholder = translation;
                } else {
                    element.textContent = translation;
                }
            }
        });
    }

    // Mise à jour du footer
    const footer = document.querySelector('footer');
    if (footer) {
        const elements = footer.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            const translation = getTranslation(key);
            if (translation) element.textContent = translation;
        });
    }

    // Mise à jour des liens de navigation
    const navLinks = document.querySelectorAll('.nav-links a[data-translate^="nav."]');
    navLinks.forEach(link => {
        const key = link.getAttribute('data-translate');
        const translation = getTranslation(key);
        if (translation) link.textContent = translation;
    });
}

// Fonction pour obtenir une traduction
function getTranslation(key) {
    const keys = key.split('.');
    let translation = translations[currentLang];
    
    // Trouver l'élément avec l'attribut data-translate correspondant à la clé
    const element = document.querySelector(`[data-translate="${key}"]`);
    const originalText = element ? element.textContent : '';
    
    // Parcourir l'objet de traduction
    for (const k of keys) {
        if (translation && translation[k]) {
            translation = translation[k];
        } else {
            // Si la traduction n'est pas trouvée, retourner le texte original
            return originalText;
        }
    }
    return translation || originalText;
}
